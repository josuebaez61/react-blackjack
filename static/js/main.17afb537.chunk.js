(this["webpackJsonpreact-blackjack"]=this["webpackJsonpreact-blackjack"]||[]).push([[0],{29:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__),PlayerCards=function PlayerCards(_ref){var cardsProp=_ref.cardsProp,_useSelector=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__.c)((function(e){return e})),_useSelector$game=_useSelector.game,player_cards=_useSelector$game.player_cards,ia_cards=_useSelector$game.ia_cards,turn=_useSelector$game.turn;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:eval(cardsProp).length>10?"in-game-cards in-game-cards--stacked":"in-game-cards",children:eval(cardsProp).length>0&&eval(cardsProp).map((function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("img",{src:"./assets/images/"+("AD"===e.name?"A_D":e.name)+".png",alt:e.name},e.name)}))})};__webpack_exports__.a=PlayerCards},52:function(e,t,r){},54:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(18),c=r.n(a),s=r(21),i=r(5),o=r(20),u=r(32),l=r(1),d=function(){return Object(l.jsxs)("h1",{className:"game-title",children:["BlackJack",Object(l.jsx)(o.a,{className:"blue-react",icon:u.a})]})},_=(r(30),r(31),function(){return Object(l.jsx)("div",{className:"main__box main__box--home",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(d,{}),Object(l.jsx)("header",{children:Object(l.jsx)("nav",{children:Object(l.jsx)("ul",{className:"menu",children:Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/ingame",children:"Nueva Partida"})})})})})]})})}),b=r(7),j="[game] Pick card",O="[game] Change turn",p="[game] Execute IA turn",m="[game] End round",h="[game] Reset to initial state",f=function(e){return{type:j,turn:e}},x=function(e){return{type:O,currentTurn:e}},g=function(){return{type:p}},v=function(e){var t=e.deck,r=e.playerwins,n=Object(b.b)();return Object(l.jsxs)("div",{className:"game-aside__deck",children:[Object(l.jsx)("img",{onClick:function(){null===r&&n(f("player"))},className:null!==r||t.length<=0?"not-allowed img-disabled":"pointer",src:"./assets/images/grey_back.png",alt:"deck"}),Object(l.jsx)("span",{className:"game-aside__cards-counter",style:t.length<=0?{color:"red"}:{color:"white"},children:t.length})]})},y=r(11),E=r.n(y),k=function(e){var t=e.deck,r=e.playerwins,n=Object(b.b)(),a=function(e){e.target.disabled?e.target.classList.add("not-allowed"):e.target.classList.remove("not-allowed")};return Object(l.jsxs)("div",{className:"btn-group-vertical mt-3",children:[Object(l.jsx)("button",{onClick:function(){n(f("player"))},type:"button",className:"btn btn-primary game-button",onMouseOver:a,disabled:null!==r||t.length<=0,children:"Tomar Carta"}),Object(l.jsx)("button",{onClick:function(){n(x("player")),n(g())},type:"button",className:"btn btn-success game-button",onMouseOver:a,disabled:null!==r||t.length<=0,children:"Pasar Turno"}),Object(l.jsx)("button",{onClick:function(){n(x("ia")),n({type:m})},type:"button",className:"btn btn-warning game-button",onMouseOver:a,disabled:null===r||t.length<=0,children:"Siguiente Ronda"}),Object(l.jsx)("button",{onClick:function(){E.a.fire({icon:"question",title:"\xbfEst\xe1 seguro de iniciar una nueva partida?",text:"Se reiniciar\xe1 el marcador y la baraja",showConfirmButton:!0,confirmButtonText:"Confirmar",showCancelButton:!0,cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&n({type:h})}))},type:"button",className:"btn btn-secondary game-button",onMouseOver:a,children:"Nueva Partida"})]})},w=function(e){var t=e.rounds,r=t.player_rounds,n=t.ia_rounds;return Object(l.jsx)("div",{children:Object(l.jsxs)("table",{className:"scoreboard mt-2",children:[Object(l.jsx)("tbody",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:r}),Object(l.jsx)("td",{children:n})]})}),Object(l.jsx)("tfoot",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Jugador"}),Object(l.jsx)("th",{children:"Adversario"})]})})]})})},P=function(){var e=Object(b.c)((function(e){return e.game})),t=e.deck,r=e.turn,a=e.score,c=a.player_wins,s=a.rounds,i=Object(b.b)();return Object(n.useEffect)((function(){"player"===r&&t.length<=0&&(i(x("player")),i(g()))}),[t.length]),Object(l.jsxs)("aside",{className:"game-aside",children:[Object(l.jsx)(w,{rounds:s}),Object(l.jsx)(v,{deck:t,playerwins:c}),Object(l.jsx)(k,{deck:t,playerwins:c})]})},N=r(29),C=r(34),D=function(e){var t=e.name,r=Object(b.c)((function(e){return e.game.score})).points,n=r.player_points,a=r.ia_points;return Object(l.jsxs)("h3",{className:"fontEastwood",style:{fontSize:"2.6rem"},children:[t," - ",Object(l.jsx)("span",{className:"badge badge-dark",children:"Jugador"===t?n:a})," ",Object(l.jsx)(o.a,{style:{fontSize:"1.3rem"},icon:C.a})]})},M=function(){var e=Object(b.c)((function(e){return e.game})),t=(e.deck,e.turn,e.score);t.player_wins,t.rounds;return Object(l.jsx)("div",{className:"main__box",children:Object(l.jsxs)("div",{className:"row no-gutters",style:{height:"100%"},children:[Object(l.jsxs)("div",{className:"row col p-3",children:[Object(l.jsxs)("div",{className:"col-md-12 h-50",children:[Object(l.jsx)(D,{name:"Jugador"}),Object(l.jsx)(N.a,{cardsProp:"player_cards"})]}),Object(l.jsxs)("div",{className:"col-md-12 h-50",children:[Object(l.jsx)(D,{name:"Adversario"}),Object(l.jsx)(N.a,{cardsProp:"ia_cards"})]})]}),Object(l.jsx)("div",{className:"col-md-auto",style:{height:"100%"},children:Object(l.jsx)(P,{})})]})})},T=function(){return Object(l.jsx)(s.a,{children:Object(l.jsx)("div",{className:"main",children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{exact:!0,path:"/",component:_}),Object(l.jsx)(i.b,{exact:!0,path:"/ingame",component:M}),Object(l.jsx)(i.a,{to:"/"}),","]})})})},A=r(13),B=r(23),S=r(6),I=r(35),L=(r(53),function(e,t,r,n){if("player"===r){if(e>21)return E.a.fire({icon:"error",title:"\xa1Perdiste esta ronda!",text:"Obtuviste m\xe1s de 21 puntos"}).then((function(){n<=0&&R()})),!1;if(21===e)return E.a.fire({icon:"success",title:"\xa1Ganaste esta ronda!",text:"Obtuviste 21 puntos"}).then((function(){n<=0&&R()})),!0}else{if(21===t)return E.a.fire({icon:"error",title:"\xa1Perdiste esta ronda!",text:"Tu adversario obtuvo 21 puntos"}).then((function(){n<=0&&R()})),!1;if(e>21)return E.a.fire({icon:"error",title:"\xa1Perdiste esta ronda!",text:"Obtuviste m\xe1s de 21 puntos"}).then((function(){n<=0&&R()})),!1;if(t>21)return E.a.fire({icon:"success",title:"\xa1Ganaste esta ronda!",text:"Tu adversario obtuvo m\xe1s de 21 puntos"}).then((function(){n<=0&&R()})),!0;if(e===t)return E.a.fire({icon:"warning",title:"\xa1Empate!",text:"Ambos jugadores obtuvieron la misma cantidad de puntos"}).then((function(){n<=0&&R()})),null;if(e<t)return E.a.fire({icon:"error",title:"\xa1Perdiste esta ronda!",text:"Tu adversario obtuvo m\xe1s puntos"}).then((function(){n<=0&&R()})),!1;if(e>t)return E.a.fire({icon:"success",title:"\xa1Ganaste esta ronda!",text:"Obtuviste m\xe1s puntos que tu adversario"}).then((function(){n<=0&&R()})),!0}return null}),R=function(){E.a.fire({icon:"info",title:"Fin del juego",text:"Ya no hay cartas en la baraja."})},K=function(e){var t=Number();if(2===e.length)switch(e.substring(0,1)){case"A":t=11;break;case"J":case"Q":case"K":t=10;break;default:t=Number(e.substring(0,1))}else t=Number(e.substring(0,2));return t},U=function(e,t){var r=t.ia_rounds,n=t.player_rounds;switch(e){case null:return{ia_rounds:r,player_rounds:n};case!0:return{ia_rounds:r,player_rounds:n+1};case!1:return{ia_rounds:r+1,player_rounds:n};default:return t}},W=r(36),q=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number();Object(W.a)(this,e),this.name=t,this.value=r},J=function(){for(var e=[],t=["A","J","Q","K"],r=0,n=["C","D","H","S"];r<n.length;r++){var a,c=n[r],s=Object(I.a)(t);try{for(s.s();!(a=s.n()).done;){var i=a.value;e.push(i+c)}}catch(u){s.e(u)}finally{s.f()}for(var o=2;o<=10;o++)e.push(o+c)}return e},$={deck:J(),player_cards:[],ia_cards:[],turn:"player",score:{points:{player_points:0,ia_points:0},rounds:{player_rounds:0,ia_rounds:0},player_wins:null}},G=r(37),z="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,Q=Object(A.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,r=Object(S.a)({},e),n=r.deck,a=r.turn,c=r.player_cards,s=r.score,i=r.score,o=(i.points,i.points),u=o.player_points,l=o.ia_points,d=i.rounds;switch(t.type){case j:var _=String(n.pop()),b=K(_),f=new q(_,b),x=u+b,g=l,v=L(x,g,a,n.length);return Object(S.a)(Object(S.a)({},e),{},{player_cards:[].concat(Object(B.a)(c),[f]),deck:Object(B.a)(n),turn:t.turn,score:Object(S.a)(Object(S.a)({},s),{},{points:{player_points:x,ia_points:g},rounds:U(v,d),player_wins:v})});case O:return Object(S.a)(Object(S.a)({},e),{},{turn:"player"===t.currentTurn?"ia":"player"});case p:var y=l,E=u,k=[];if(n.length>0)for(;y<=E&&!(n.length<=0);){var w=String(n.pop()),P=K(w),N=new q(w,P);k.push(N),y+=P}var C=L(E,y,a,n.length);return Object(S.a)(Object(S.a)({},e),{},{ia_cards:k,deck:Object(B.a)(n),score:Object(S.a)(Object(S.a)({},s),{},{points:{player_points:E,ia_points:y},rounds:U(C,d),player_wins:C})});case m:return Object(S.a)(Object(S.a)({},e),{},{ia_cards:[],player_cards:[],score:Object(S.a)(Object(S.a)({},e.score),{},{points:{ia_points:0,player_points:0},player_wins:null})});case h:return Object(S.a)(Object(S.a)({},$),{},{deck:J()});default:return e}}}),X=Object(A.e)(Q,z(Object(A.a)(G.a))),F=function(){return Object(l.jsx)(b.a,{store:X,children:Object(l.jsx)(T,{})})};r(52);c.a.render(Object(l.jsx)(F,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.17afb537.chunk.js.map